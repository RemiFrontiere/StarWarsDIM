{"version":3,"sources":["modules/effects/effects.umd.js"],"names":["global","factory","exports","module","require","define","amd","npm_package","rxjs","operators","ng","core","this","store","METADATA_KEY","getSourceForInstance","instance","Object","getPrototypeOf","getSourceMetadata","compose","getEffectMetadataEntries","sourceProto","constructor","onRunEffectsKey","__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","__spread","arguments","length","concat","mergeEffects","sourceInstance","sourceName","name","observables","map","_a","propertyName","dispatch","observable","pipe","ignoreElements","materialize","notification","effect","merge","apply","resolveEffectSource","mergedEffects$","isOnRunEffects","source","ngrxOnRunEffects","extendStatics","__extends","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","prototype","create","__read$1","Actions","_super","_this","lift","operator","ofType","allowedTypes","_i","__spread$1","decorators","type","Injectable","ctorParameters","Observable","Inject","args","ScannedActionsSubject","filter","action","some","__extends$1","EffectSources","errorHandler","addEffects","effectSourceInstance","toActions","groupBy","mergeMap","source$","exhaustMap","output","verifyOutput","reporter","reportErrorThrown","kind","handleError","reportInvalidActions","isAction","Error","getEffectName","dematerialize","ErrorHandler","Subject","ROOT_EFFECTS","InjectionToken","FEATURE_EFFECTS","EffectsRunner","effectSources","store$$1","effectsSubscription","start","subscribe","ngOnDestroy","unsubscribe","Store","ROOT_EFFECTS_INIT","EffectsRootModule","sources","runner","rootEffects","storeRootModule","storeFeatureModule","forEach","NgModule","StoreRootModule","Optional","StoreFeatureModule","EffectsFeatureModule","root","effectSourceGroups","group","EffectsModule","forFeature","featureEffects","ngModule","providers","provide","multi","deps","useFactory","createSourceInstances","forRoot","instances","ɵngrx_modules_effects_effects_c","ɵngrx_modules_effects_effects_a","ɵngrx_modules_effects_effects_b","ɵngrx_modules_effects_effects_f","ɵngrx_modules_effects_effects_e","ɵngrx_modules_effects_effects_d","Effect","target","setEffectMetadataEntries","entries","meta","defineProperty","getEffectsMetadata","metadata"],"mappings":"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","sourcesContent":["/**\n * @license NgRx v6.0.0-beta.1\n * (c) 2015-2018 Brandon Roberts, Mike Ryan, Rob Wormald, Victor Savkin\n * License: MIT\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@ngrx/store'), require('rxjs'), require('rxjs/operators'), require('@angular/core')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', '@ngrx/store', 'rxjs', 'rxjs/operators', '@angular/core'], factory) :\n\t(factory((global.npm_package = {}),global['@ngrx/store'],global.rxjs,global.rxjs.operators,global.ng.core));\n}(this, (function (exports,store,rxjs,operators,core) { 'use strict';\n\nvar METADATA_KEY = '__@ngrx/effects__';\nfunction getEffectMetadataEntries(sourceProto) {\n    return sourceProto.constructor[METADATA_KEY] || [];\n}\nfunction setEffectMetadataEntries(sourceProto, entries) {\n    var constructor = sourceProto.constructor;\n    var meta = constructor.hasOwnProperty(METADATA_KEY)\n        ? constructor[METADATA_KEY]\n        : Object.defineProperty(constructor, METADATA_KEY, { value: [] })[METADATA_KEY];\n    Array.prototype.push.apply(meta, entries);\n}\nfunction Effect(_a) {\n    var dispatch = (_a === void 0 ? { dispatch: true } : _a).dispatch;\n    return function (target, propertyName) {\n        var metadata = { propertyName: propertyName, dispatch: dispatch };\n        setEffectMetadataEntries(target, [metadata]);\n    } /*TODO(#823)*/;\n}\nfunction getSourceForInstance(instance) {\n    return Object.getPrototypeOf(instance);\n}\nvar getSourceMetadata = store.compose(getEffectMetadataEntries, getSourceForInstance);\nfunction getEffectsMetadata(instance) {\n    var metadata = {};\n    getSourceMetadata(instance).forEach(function (_a) {\n        var propertyName = _a.propertyName, dispatch = _a.dispatch;\n        metadata[propertyName] = { dispatch: dispatch };\n    });\n    return metadata;\n}\n\nvar onRunEffectsKey = 'ngrxOnRunEffects';\nfunction isOnRunEffects(sourceInstance) {\n    var source = getSourceForInstance(sourceInstance);\n    return (onRunEffectsKey in source && typeof source[onRunEffectsKey] === 'function');\n}\n\nvar __read = (undefined && undefined.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (undefined && undefined.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nfunction mergeEffects(sourceInstance) {\n    var sourceName = getSourceForInstance(sourceInstance).constructor.name;\n    var observables = getSourceMetadata(sourceInstance).map(function (_a) {\n        var propertyName = _a.propertyName, dispatch = _a.dispatch;\n        var observable = typeof sourceInstance[propertyName] === 'function'\n            ? sourceInstance[propertyName]()\n            : sourceInstance[propertyName];\n        if (dispatch === false) {\n            return observable.pipe(operators.ignoreElements());\n        }\n        var materialized$ = observable.pipe(operators.materialize());\n        return materialized$.pipe(operators.map(function (notification) {\n            return ({\n                effect: sourceInstance[propertyName],\n                notification: notification,\n                propertyName: propertyName,\n                sourceName: sourceName,\n                sourceInstance: sourceInstance,\n            });\n        }));\n    });\n    return rxjs.merge.apply(void 0, __spread(observables));\n}\nfunction resolveEffectSource(sourceInstance) {\n    var mergedEffects$ = mergeEffects(sourceInstance);\n    if (isOnRunEffects(sourceInstance)) {\n        return sourceInstance.ngrxOnRunEffects(mergedEffects$);\n    }\n    return mergedEffects$;\n}\n\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read$1 = (undefined && undefined.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread$1 = (undefined && undefined.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read$1(arguments[i]));\n    return ar;\n};\nvar Actions = /** @class */ (function (_super) {\n    __extends(Actions, _super);\n    function Actions(source) {\n        var _this = _super.call(this) || this;\n        if (source) {\n            _this.source = source;\n        }\n        return _this;\n    }\n    Actions.prototype.lift = function (operator) {\n        var observable = new Actions();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Actions.prototype.ofType = function () {\n        var allowedTypes = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            allowedTypes[_i] = arguments[_i];\n        }\n        return ofType.apply(void 0, __spread$1(allowedTypes))(this);\n    };\n    Actions.decorators = [\n        { type: core.Injectable }\n    ];\n    /** @nocollapse */\n    Actions.ctorParameters = function () { return [\n        { type: rxjs.Observable, decorators: [{ type: core.Inject, args: [store.ScannedActionsSubject,] },] },\n    ]; };\n    return Actions;\n}(rxjs.Observable));\nfunction ofType() {\n    var allowedTypes = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        allowedTypes[_i] = arguments[_i];\n    }\n    return operators.filter(function (action) {\n        return allowedTypes.some(function (type) { return type === action.type; });\n    });\n}\n\nfunction verifyOutput(output, reporter) {\n    reportErrorThrown(output, reporter);\n    reportInvalidActions(output, reporter);\n}\nfunction reportErrorThrown(output, reporter) {\n    if (output.notification.kind === 'E') {\n        reporter.handleError(output.notification.error);\n    }\n}\nfunction reportInvalidActions(output, reporter) {\n    if (output.notification.kind === 'N') {\n        var action = output.notification.value;\n        var isInvalidAction = !isAction(action);\n        if (isInvalidAction) {\n            reporter.handleError(new Error(\"Effect \" + getEffectName(output) + \" dispatched an invalid action: \" + action));\n        }\n    }\n}\nfunction isAction(action) {\n    return action && action.type && typeof action.type === 'string';\n}\nfunction getEffectName(_a) {\n    var propertyName = _a.propertyName, sourceInstance = _a.sourceInstance, sourceName = _a.sourceName;\n    var isMethod = typeof sourceInstance[propertyName] === 'function';\n    return \"\\\"\" + sourceName + \".\" + propertyName + (isMethod ? '()' : '') + \"\\\"\";\n}\n\nvar __extends$1 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar EffectSources = /** @class */ (function (_super) {\n    __extends$1(EffectSources, _super);\n    function EffectSources(errorHandler) {\n        var _this = _super.call(this) || this;\n        _this.errorHandler = errorHandler;\n        return _this;\n    }\n    EffectSources.prototype.addEffects = function (effectSourceInstance) {\n        this.next(effectSourceInstance);\n    };\n    /**\n     * @internal\n     */\n    /**\n       * @internal\n       */\n    EffectSources.prototype.toActions = /**\n       * @internal\n       */\n    function () {\n        var _this = this;\n        return this.pipe(operators.groupBy(getSourceForInstance), operators.mergeMap(function (source$) {\n            return source$.pipe(operators.exhaustMap(resolveEffectSource), operators.map(function (output) {\n                verifyOutput(output, _this.errorHandler);\n                return output.notification;\n            }), operators.filter(function (notification) {\n                return notification.kind === 'N';\n            }), operators.dematerialize());\n        }));\n    };\n    EffectSources.decorators = [\n        { type: core.Injectable }\n    ];\n    /** @nocollapse */\n    EffectSources.ctorParameters = function () { return [\n        { type: core.ErrorHandler, },\n    ]; };\n    return EffectSources;\n}(rxjs.Subject));\n\nvar IMMEDIATE_EFFECTS = new core.InjectionToken('ngrx/effects: Immediate Effects');\nvar ROOT_EFFECTS = new core.InjectionToken('ngrx/effects: Root Effects');\nvar FEATURE_EFFECTS = new core.InjectionToken('ngrx/effects: Feature Effects');\n\nvar EffectsRunner = /** @class */ (function () {\n    function EffectsRunner(effectSources, store$$1) {\n        this.effectSources = effectSources;\n        this.store = store$$1;\n        this.effectsSubscription = null;\n    }\n    EffectsRunner.prototype.start = function () {\n        if (!this.effectsSubscription) {\n            this.effectsSubscription = this.effectSources\n                .toActions()\n                .subscribe(this.store);\n        }\n    };\n    EffectsRunner.prototype.ngOnDestroy = function () {\n        if (this.effectsSubscription) {\n            this.effectsSubscription.unsubscribe();\n            this.effectsSubscription = null;\n        }\n    };\n    EffectsRunner.decorators = [\n        { type: core.Injectable }\n    ];\n    /** @nocollapse */\n    EffectsRunner.ctorParameters = function () { return [\n        { type: EffectSources, },\n        { type: store.Store, },\n    ]; };\n    return EffectsRunner;\n}());\n\nvar ROOT_EFFECTS_INIT = '@ngrx/effects/init';\nvar EffectsRootModule = /** @class */ (function () {\n    function EffectsRootModule(sources, runner, store$$1, rootEffects, storeRootModule, storeFeatureModule) {\n        this.sources = sources;\n        runner.start();\n        rootEffects.forEach(function (effectSourceInstance) {\n            return sources.addEffects(effectSourceInstance);\n        });\n        store$$1.dispatch({ type: ROOT_EFFECTS_INIT });\n    }\n    EffectsRootModule.prototype.addEffects = function (effectSourceInstance) {\n        this.sources.addEffects(effectSourceInstance);\n    };\n    EffectsRootModule.decorators = [\n        { type: core.NgModule, args: [{},] }\n    ];\n    /** @nocollapse */\n    EffectsRootModule.ctorParameters = function () { return [\n        { type: EffectSources, },\n        { type: EffectsRunner, },\n        { type: store.Store, },\n        { type: Array, decorators: [{ type: core.Inject, args: [ROOT_EFFECTS,] },] },\n        { type: store.StoreRootModule, decorators: [{ type: core.Optional },] },\n        { type: store.StoreFeatureModule, decorators: [{ type: core.Optional },] },\n    ]; };\n    return EffectsRootModule;\n}());\n\nvar EffectsFeatureModule = /** @class */ (function () {\n    function EffectsFeatureModule(root, effectSourceGroups, storeRootModule, storeFeatureModule) {\n        this.root = root;\n        effectSourceGroups.forEach(function (group) {\n            return group.forEach(function (effectSourceInstance) {\n                return root.addEffects(effectSourceInstance);\n            });\n        });\n    }\n    EffectsFeatureModule.decorators = [\n        { type: core.NgModule, args: [{},] }\n    ];\n    /** @nocollapse */\n    EffectsFeatureModule.ctorParameters = function () { return [\n        { type: EffectsRootModule, },\n        { type: Array, decorators: [{ type: core.Inject, args: [FEATURE_EFFECTS,] },] },\n        { type: store.StoreRootModule, decorators: [{ type: core.Optional },] },\n        { type: store.StoreFeatureModule, decorators: [{ type: core.Optional },] },\n    ]; };\n    return EffectsFeatureModule;\n}());\n\nvar EffectsModule = /** @class */ (function () {\n    function EffectsModule() {\n    }\n    EffectsModule.forFeature = function (featureEffects) {\n        return {\n            ngModule: EffectsFeatureModule,\n            providers: [\n                featureEffects,\n                {\n                    provide: FEATURE_EFFECTS,\n                    multi: true,\n                    deps: featureEffects,\n                    useFactory: createSourceInstances,\n                },\n            ],\n        };\n    };\n    EffectsModule.forRoot = function (rootEffects) {\n        return {\n            ngModule: EffectsRootModule,\n            providers: [\n                EffectsRunner,\n                EffectSources,\n                Actions,\n                rootEffects,\n                {\n                    provide: ROOT_EFFECTS,\n                    deps: rootEffects,\n                    useFactory: createSourceInstances,\n                },\n            ],\n        };\n    };\n    EffectsModule.decorators = [\n        { type: core.NgModule, args: [{},] }\n    ];\n    /** @nocollapse */\n    EffectsModule.ctorParameters = function () { return []; };\n    return EffectsModule;\n}());\nfunction createSourceInstances() {\n    var instances = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        instances[_i] = arguments[_i];\n    }\n    return instances;\n}\n\n/**\n * DO NOT EDIT\n *\n * This file is automatically generated at build\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexports.ɵngrx_modules_effects_effects_c = EffectsFeatureModule;\nexports.ɵngrx_modules_effects_effects_a = createSourceInstances;\nexports.ɵngrx_modules_effects_effects_b = EffectsRootModule;\nexports.ɵngrx_modules_effects_effects_f = EffectsRunner;\nexports.ɵngrx_modules_effects_effects_e = FEATURE_EFFECTS;\nexports.ɵngrx_modules_effects_effects_d = ROOT_EFFECTS;\nexports.Effect = Effect;\nexports.getEffectsMetadata = getEffectsMetadata;\nexports.mergeEffects = mergeEffects;\nexports.Actions = Actions;\nexports.ofType = ofType;\nexports.EffectsModule = EffectsModule;\nexports.EffectSources = EffectSources;\nexports.ROOT_EFFECTS_INIT = ROOT_EFFECTS_INIT;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=effects.umd.js.map\n"]}